(function(e){function t(t){for(var n,s,o=t[0],r=t[1],c=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&h.push(l[s][0]),l[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var r=i[o];0!==l[r]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},l={app:0},a=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=r;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"013a":function(e,t,i){},"371a":function(e,t,i){},"3c25":function(e,t,i){"use strict";i.r(t);const n={currentScene:"scene_xiexfoxflxcg",fullscreen:!1,rotate:!1,vr:!1,bgMusic:!1,viewState:"skin_view_normal();",dialog:{type:null,val:"",title:"",width:"80%",customClass:null,top:"15vh",appendToBody:!0,destroyOnClose:!0,dialogVisible:!1}},l={SETSCENE(e,t){e.currentScene=t},QP(e){e.fullscreen=!e.fullscreen},XZ(e){e.rotate=!e.rotate},VR(e){e.vr=!e.vr},BGMUSICCHANGE(e){e.bgMusic=!e.bgMusic},VIEWCHANGE(e,t){e.viewState=t},SHOWDIALOG(e,t){const{type:i,val:n,title:l,width:a,customClass:s,top:o,appendToBody:r,destroyOnClose:c}=t;e.dialog.type=i,e.dialog.val=n,e.dialog.title=l,e.dialog.width=a||"80%",e.dialog.customClass=s||null,e.dialog.top=o||"15vh",e.dialog.appendToBody=r||!0,e.dialog.destroyOnClose=c||!0,e.dialog.dialogVisible=!e.dialog.dialogVisible}},a={setScene({commit:e},t){e("SETSCENE",t)},qp({commit:e}){e("QP")},xz({commit:e}){e("XZ")},vr({commit:e}){e("VR")},bgMusicChange({commit:e}){e("BGMUSICCHANGE")},viewChange({commit:e},t){e("VIEWCHANGE",t)},showDialog({commit:e},t){e("SHOWDIALOG",t)}};t["default"]={namespaced:!0,state:n,mutations:l,actions:a}},"56d7":function(e,t,i){"use strict";i.r(t);var n=i("2b0e"),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("Krpano"),t("SenceSelect"),t("GlobalTools"),t("DialogWrapper")],1)},a=[],s=function(){var e=this,t=e._self._c;return t("div",{ref:"pano",attrs:{id:"pano"}},[e._m(0)])},o=[function(){var e=this,t=e._self._c;return t("noscript",[t("table",{staticStyle:{width:"100%",height:"100%"}},[t("tr",{staticStyle:{"vertical-align":"middle"}},[t("td",[t("div",{staticStyle:{"text-align":"center"}},[e._v(" ERROR:"),t("br"),t("br"),e._v("Javascript not activated"),t("br"),t("br")])])])])])}],r=i("2f62"),c={data(){return{krpano:null}},mounted(){this.$nextTick(()=>{this.embedpano(),window.changePanos=this.changePanos,window.showDialog=this.showDialog,document.addEventListener("fullscreenchange",this.handleFullscreenChange),this.changePanos(this.currentScene),this.xz(this.rotate),this.bgMusicChange(this.bgMusic)})},computed:{...Object(r["b"])(["currentScene","fullscreen","rotate","vr","bgMusic","viewState"])},watch:{currentScene:{handler(e){this.changePanos(e)}},fullscreen:{handler(e){this.qp(e)}},rotate:{handler(e){this.xz(e)}},vr:{handler(e){this.vrchange(e)}},bgMusic:{handler(e){this.bgMusicChange(e)}},viewState:{handler(e){this.viewChange(e)}}},methods:{embedpano(){embedpano({xml:"./vtour/tour.xml",target:"pano",html5:"auto",mobilescale:1,passQueryParameters:!0,vars:{"plugin[vtoureditor].keep":!0},onready:e=>{this.krpano=e}})},changePanos(e){this.currentScene!=e&&this.$store.dispatch("globalEvent/setScene",e),this.krpano.call(`loadscene(${e}, null, MERGE, 2);`)},qp(e){e&&this.krpano.set("fullscreen",e)},handleFullscreenChange(){document.fullscreenElement||this.$store.dispatch("globalEvent/qp")},xz(e){this.krpano.set("autorotate.enabled",e)},vrchange(e){this.krpano.call("webvr.enterVR();")},bgMusicChange(e){e?this.krpano.call("playsound(bgsnd, './vtour/assets/medium/bgMusic.mp3', 0);"):this.krpano.call("stopsound(bgsnd);")},viewChange(e){this.krpano.call(e)},showDialog(e,t,i){const n=/^\[([^\]]+)\]$/;let l;if(n.test(t)){const e=t.match(n)[1].split(",");l=e}else l=t;let a={val:l,type:e,title:i};this.$store.dispatch("globalEvent/showDialog",a)}}},u=c,d=(i("f81e"),i("2877")),h=Object(d["a"])(u,s,o,!1,null,null,null),p=h.exports,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"skin_wrapper"},[t("div",{staticClass:"senceSelect"},[t("i",{staticClass:"el-icon-menu menuIcon",on:{click:function(t){e.drawer=!0}}}),t("span",[e._v("场景选择")])]),t("el-drawer",{staticClass:"drawer",attrs:{"with-header":!1,visible:e.drawer,direction:"btt","destroy-on-close":!0,"show-close":!1,size:"15vh"},on:{"update:visible":function(t){e.drawer=t}}},[t("div",{staticClass:"drawerContent"},[t("div",{ref:"senceList",staticClass:"senceList"},e._l(e.panos,(function(i,n){return t("div",{key:n,staticClass:"item",class:i.path==e.$store.state.globalEvent.currentScene?"selectItem":"",on:{click:function(t){return e.changePanos(i.path)}}},[t("img",{staticClass:"itemImg",attrs:{src:i.url}}),t("div",{staticClass:"itemText"},[e._v(e._s(i.name))])])})),0)])])],1)},g=[],f={data(){return{drawer:!1,panos:[{name:"增城广场",url:"./vtour/panos/xiexfoxflxcg.tiles/thumb.jpg",path:"scene_xiexfoxflxcg"},{name:"何仙姑家庙",url:"./vtour/panos/wjvwhzxnrxucxgz.tiles/thumb.jpg",path:"scene_wjvwhzxnrxucxgz"},{name:"何仙姑家庙仙藤园",url:"./vtour/panos/wjvwhzxnrxucxgzwhzaxkxbt.tiles/thumb.jpg",path:"scene_wjvwhzxnrxucxgzwhzaxkxbt"},{name:"何仙姑家庙钟楼",url:"./vtour/panos/wjvwhzxnrxucxgzbsfyli.tiles/thumb.jpg",path:"scene_wjvwhzxnrxucxgzbsfyli"},{name:"小楼人家",url:"./vtour/panos/xwpyliwggxuc.tiles/thumb.jpg",path:"scene_xwpyliwggxuc"},{name:"小楼人家报德寺",url:"./vtour/panos/xwpyliwggxuc-yklxkdxvg.tiles/thumb.jpg",path:"scene_xwpyliwggxuc-yklxkdxvg"},{name:"小楼人家-八仙湖",url:"./vtour/panos/xwpyliwggxuc-xfrwhzyfw.tiles/thumb.jpg",path:"scene_xwpyliwggxuc-xfrwhzyfw"}]}},watch:{drawer(e){e&&this.$nextTick(()=>{this.initScroll(),this.initDrag()})}},methods:{initScroll(){let e=100,t=this.$refs.senceList;t.addEventListener("wheel",t=>{let i=t.wheelDelta;i>0?this.$refs.senceList.scrollLeft-=e:this.$refs.senceList.scrollLeft+=e})},initDrag(){let e,t;this.$refs.senceList.addEventListener("mousedown",l=>(0===l.button&&(e=l.clientX,t=this.$refs.senceList.scrollLeft,document.addEventListener("mousemove",i),document.addEventListener("mouseup",n)),!1));const i=i=>{let n=i.clientX-e;return this.$refs.senceList.scrollLeft=t-n,!1},n=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n)}},changePanos(e){this.$store.dispatch("globalEvent/setScene",e),this.drawer=!1}}},b=f,m=(i("689e"),Object(d["a"])(b,v,g,!1,null,null,null)),w=m.exports,x=function(){var e=this,t=e._self._c;return t("div",{staticClass:"globalTools"},[t("el-tooltip",{attrs:{effect:"dark",content:"全屏",placement:"left"}},[t("div",{staticClass:"globalTools_item qp",on:{click:function(t){return e.qp()}}})]),t("el-tooltip",{attrs:{effect:"dark",content:"旋转",placement:"left"}},[t("div",{staticClass:"globalTools_item xz",on:{click:function(t){return e.xz()}}})]),t("el-tooltip",{attrs:{effect:"dark",content:"vr",placement:"left"}},[t("div",{staticClass:"globalTools_item vr",on:{click:function(t){return e.vr()}}})]),t("el-tooltip",{attrs:{effect:"dark",content:"视角切换",placement:"left"}},[t("div",{staticClass:"globalTools_item sjqh",on:{click:function(t){e.dialogVisible=!0}}})]),t("el-tooltip",{attrs:{effect:"dark",content:"音乐",placement:"left"}},[t("div",{staticClass:"globalTools_item",class:e.bgMusic?"removeMusic":"music",on:{click:function(t){return e.bgMusicChange()}}})]),t("el-dialog",{attrs:{title:"视角切换",visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-row",{attrs:{gutter:8}},e._l(e.viewList,(function(i,n){return t("el-col",{key:n,staticStyle:{margin:"12px 0"},attrs:{xs:12,sm:12,md:8,lg:8,xl:4}},[t("el-card",{attrs:{shadow:"always"}},[t("div",{staticClass:"cardItem",on:{click:function(t){return e.viewChange(i)}}},[t("i",{class:i.icon}),t("span",{staticClass:"item_text"},[e._v(e._s(i.name))])])])],1)})),1)],1)],1)},_=[],y={data(){return{dialogVisible:!1,viewList:[{icon:"el-icon-help",name:"正常视角",value:"skin_view_normal();"},{icon:"el-icon-picture-outline-round",name:"鱼眼视角",value:"skin_view_fisheye();"},{icon:"el-icon-view",name:"立体视角",value:"skin_view_stereographic();"},{icon:"el-icon-aim",name:"建筑视角",value:"skin_view_architectural();"},{icon:"el-icon-baseball",name:"Pannini视角",value:"skin_view_pannini();"},{icon:"el-icon-orange",name:"小行星视角",value:"skin_view_littleplanet();"}]}},computed:{...Object(r["b"])(["bgMusic"])},methods:{qp(){this.$store.dispatch("globalEvent/qp")},xz(){this.$store.dispatch("globalEvent/xz")},vr(){this.$store.dispatch("globalEvent/vr")},bgMusicChange(){this.$store.dispatch("globalEvent/bgMusicChange")},viewChange(e){this.$store.dispatch("globalEvent/viewChange",e.value),this.dialogVisible=!1}}},C=y,k=(i("bc64"),Object(d["a"])(C,x,_,!1,null,null,null)),S=k.exports,E=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.dialogVisible,width:e.dialog.width,customClass:e.dialog.customClass,title:e.dialog.title,top:e.dialog.top,"append-to-body":e.dialog.appendToBody,"destroy-on-close":e.dialog.destroyOnClose},on:{"update:visible":function(t){e.dialogVisible=t}}},["components"==e.dialog.type?t("div",[t(e.currentView,{tag:"component",on:{changeDialogVisible:e.changeDialogVisible}})],1):"text"==e.dialog.type?t("div",[t("p",[e._v(e._s(e.dialog.val))])]):"img"==e.dialog.type?t("div",[t("el-carousel",{staticClass:"carousel"},e._l(e.dialog.val,(function(e,i){return t("el-carousel-item",{key:i},[t("img",{attrs:{src:e}})])})),1)],1):"video"==e.dialog.type?t("div",[t("video",{ref:"videoRef",attrs:{src:e.dialog.val,autoplay:"",loop:""}})]):e._e()])},j=[],O=function(){var e=this;e._self._c;return e._m(0)},V=[function(){var e=this,t=e._self._c;return t("div",[t("h3",[e._v("何仙姑旅游风景区")]),t("hr",{staticStyle:{border:"0","border-top":"1px solid white"}}),t("p",[e._v("这里位于增城市小楼镇，距增城市区10公里，是增城新八景之一。景区占地总面积3000亩， 人文资源独特，历史文化悠久，是中国道教“八仙”之一的何仙姑的故乡。主要景点包括何仙姑家庙 、千年仙藤、庙顶仙桃、仙姑井、何仙姑宝塔、何仙姑钟楼、仙人洞、何仙姑故里等， 集何仙姑文化和自然生态景观于一体。景区与白水寨白水仙瀑景区、白湖水乡的烟囱飞榕、 西园挂绿等一脉相承，南北呼应，构成了完整的何仙姑文化体系。")]),t("br"),t("img",{attrs:{src:"https://img2.baidu.com/it/u=3917915027,2164984301&fm=253&fmt=auto&app=120&f=JPEG?w=500&h=371"}})])}],$={},M=Object(d["a"])($,O,V,!1,null,null,null),z=M.exports,T=function(){var e=this,t=e._self._c;return t("div",[t("h3",[e._v("传说中的八仙是指以下哪些人物:")]),t("el-radio-group",{model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[t("el-radio",{attrs:{label:"A",border:""}},[e._v("A:汉钟离、张果老、韩湘子、铁拐李、吕洞宾、何仙姑、蓝采和、曹国舅。")]),t("el-radio",{attrs:{label:"B",border:""}},[e._v("B:汉钟离、张三丰、韩湘子、铁拐李、吕洞宾、何仙姑、蓝采和、曹国舅。")]),t("el-radio",{attrs:{label:"C",border:""}},[e._v("C:汉钟离、张果老、韩愈、铁拐李、吕洞宾、何仙姑、蓝采和、曹国舅。")]),t("el-radio",{attrs:{label:"D",border:""}},[e._v("D:王重阳、张道陵、韩湘子、铁拐李、吕洞宾、何仙姑、蓝采和、曹国舅。 ")])],1),t("div",{staticClass:"footer"},[t("el-button",{on:{click:function(t){return e.$emit("changeDialogVisible",!1)}}},[e._v("关 闭")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提 交")])],1)],1)},L=[],D={data(){return{radioVal:""}},methods:{submit(){console.log(this.radioVal),this.$emit("changeDialogVisible",!1)}}},P=D,R=(i("ae6e"),Object(d["a"])(P,T,L,!1,null,null,null)),G=R.exports,I={data(){return{dialogVisible:!1,currentView:null}},components:{HXGIntroduce:z,RadioSelect:G},computed:{...Object(r["b"])(["dialog"])},watch:{dialog:{handler(e){this.currentView=e.val,this.dialogVisible=!0},deep:!0},dialogVisible:{handler(e){this.$refs.videoRef&&(e?setTimeout(()=>{this.$refs.videoRef.currentTime=0,this.$refs.videoRef.play()},100):setTimeout(()=>{this.$refs.videoRef.pause(),this.$refs.videoRef.currentTime=0},100))}}},methods:{changeDialogVisible(e){this.dialogVisible=e}}},q=I,A=(i("db45"),Object(d["a"])(q,E,j,!1,null,null,null)),B=A.exports,N={components:{Krpano:p,SenceSelect:w,GlobalTools:S,DialogWrapper:B}},H=N,W=Object(d["a"])(H,l,a,!1,null,null,null),X=W.exports,J=i("8c4f"),U=function(){var e=this,t=e._self._c;return t("router-view")},F=[],Q={name:"layout-block"},K=Q,Z=Object(d["a"])(K,U,F,!1,null,null,null);Z.exports;const Y=[];var ee=Y;n["default"].use(J["a"]);const te=new J["a"]({base:"",mode:"history",routes:ee});var ie=te;i("13d5");const ne={currentScene:e=>e.globalEvent.currentScene,fullscreen:e=>e.globalEvent.fullscreen,rotate:e=>e.globalEvent.rotate,vr:e=>e.globalEvent.vr,bgMusic:e=>e.globalEvent.bgMusic,viewState:e=>e.globalEvent.viewState,dialog:e=>e.globalEvent.dialog};var le=ne;n["default"].use(r["a"]);const ae=i("c653"),se=ae.keys().reduce((e,t)=>{const i=t.replace(/^\.\/(.*)\.\w+$/,"$1"),n=ae(t);return e[i]=n.default,e},{}),oe=new r["a"].Store({modules:se,getters:le});var re=oe,ce=i("5c96"),ue=i.n(ce);i("0fae");n["default"].use(ue.a),n["default"].config.productionTip=!1,new n["default"]({router:ie,store:re,render:e=>e(X)}).$mount("#app")},"689e":function(e,t,i){"use strict";i("d96d")},ad9e:function(e,t,i){},ae6e:function(e,t,i){"use strict";i("371a")},bc64:function(e,t,i){"use strict";i("ad9e")},c653:function(e,t,i){var n={"./globalEvent.js":"3c25"};function l(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=a,e.exports=l,l.id="c653"},d637:function(e,t,i){},d96d:function(e,t,i){},db45:function(e,t,i){"use strict";i("013a")},f81e:function(e,t,i){"use strict";i("d637")}});
//# sourceMappingURL=app.9234123c.js.map